<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Solutions to 08-JAVASCRIPT Assignment</title>
    <script src="https://code.jquery.com/jquery-3.3.1.js"></script>
</head>

<body>
    <h1>Solutions to 08-JAVASCRIPT Assignment</h1>
    <ol>
        <li>
            <h4>Write a JavaScript program to display the current day and time in the following format. Sample Output
                :Today
                is : Friday.Current time is : 4 PM : 50 : 22</h4>
            <div id="today_date"></div>
            <div id="current_time"></div>
            <hr>
        </li>
        <li>
            <h4>Write a JavaScript program to print the contents of the current window</h4>
            <button id="contents_of_page" onclick="printTheWindow()">Print the window!</button>
            <hr>
        </li>
        <li>
            <h4>Write a JavaScript program to get the current date. Expected Output:mm-dd-yyyy, mm/dd/yyyy or
                dd-mm-yyyy, dd/mm/yyyy</h4>
            <div>Current Date</div>
            <ul>
                <li id="date1"></li>
                <li id="date2"></li>
                <li id="date3"></li>
                <li id="date4"></li>
            </ul>
            <hr>
        </li>
        <li>
            <h4>Write a JavaScript program where the program takes a random integer between 1 to 10, the user is then
                prompted
                to input a guess number. If the user input matches with guess number, the program will display a
                message
                "Good Work" otherwise display a message "Not matched".</h4>
            <button onclick="guessNow()">Guess Me</button>
            <div id="guess_result"></div>
            <hr>
        </li>
        <li>
            <h4>Write a JavaScript program to calculate multiplication and division of two numbers (input from user)</h4>
            <table>
                <tr>
                    <td>1st Number:</td>
                    <td>
                        <input id="firstno" type="text">
                    </td>
                </tr>
                <tr>
                    <td>2nd Number:</td>
                    <td>
                        <input id="secondno" type="text">
                    </td>
                </tr>
                <tr>
                    <td>
                        <button onclick="multiply()">Multiply</button>
                    </td>
                    <td>
                        <button onclick="divide()">Divide</button>
                    </td>
                </tr>
            </table>
            The Result is:
            <br>
            <div id="mul_div_result"></div>
            <hr>
        </li>
        <li>
            <h4>Write a JavaScript program to get the website URL (loading page) & print on console.</h4>
            <i>Please look into the browser's console for the website's URL</i>
            <hr>
        </li>
        <li>
            <h4>Write a JavaScript program to capitalize the first letter of each word of a given string</h4>
            <input type="text" id="caps_first" onkeyup="capsFirst(this.value)"> &#8594; Result:
            <span id="output_capsfirst">_______</span>
            <hr>
        </li>
        <li>
            <h4>Write a JavaScript program to check if a given string contains equal number of p's and s's present</h4>
            <input type="text" onkeyup="ippassu(this.value)"> &#8594; Output:
            <span id="pass_or_fail">_______</span>
            <hr>
        </li>
        <li>
            <h4>Write a JavaScript program to create a new string of 4 copies of the last 3 characters of a given
                original string
            </h4>
            <input type="text" onkeyup="copylast3(this.value)"> &#8594; Output:
            <span id="last3copies">_______</span>
            <hr>
        </li>
        <li>
            <h4>Write a JavaScript program to swap the first and last elements of a given array of integers. The array
                length
                should be at least 1</h4>
            <div>
                <label for="number_collector">Enter numbers here</label>
                <input type="text" id="number_collector">
                <button onclick="addExArray()">Add number to Array</button>
            </div>
            <button onclick="exchangeFlarr()">Exchange First-Last</button>
            <button onclick="clearExArray()">Clear Array</button>

            <div id="exchangearr">Array : [ ]</div>
            <hr>
        </li>
        <li>
            <h4>Write a JavaScript function that reverse a number. Using built in functions.</h4>
            <input type="text" onkeyup="reverseNo(this.value)">&#8594; Output:
            <span id="revnumber">_______</span>
            <hr>
        </li>
        <li>
            <h4>Write a JavaScript function that returns a passed string with letters in alphabetical order. Using
                built in functions</h4>
            <input type="text" onkeyup="arrangeAlpha(this.value)">&#8594; Output:
            <span id="alphaorder">_______</span>
            <hr>
        </li>
        <li>
            <ul>
                <li>
                    <h4>Write a JavaScript function that accepts a string as a parameter and find the longest word
                        within the
                        string.Using builtin functions.
                    </h4>
                    <input type="text" onkeyup="findLongestString(this.value)"> &#8594; Output:
                    <span id="longeststring">_______</span>
                </li>
                <li>
                    <h4>Write a JavaScript function to extract unique characters from a string.</h4>
                    <input type="text" onkeyup="extractUniqueString(this.value)"> &#8594; Output:
                    <span id="uniquestring">_______</span>
                </li>
                <li>
                    <h4>Write a JavaScript function to get the number of occurrences of each letter in specified
                        string.</h4>
                    <input type="text" onkeyup="getOccurenceString(this.value)"> &#8594; Output:
                    <span id="occurences">_______</span>
                </li>
            </ul>
            <hr>
        </li>
        <li>
            <h4>Write a JavaScript function that generates a string id (specified length) of random characters</h4>
            String=
            <input type="text" onkeyup="getStringForId(this.value)"> Length=
            <input type="number" onkeyup="updateIdLength(this.value)" value="1"> &#8594; Output:
            <span id="randomId">_______</span>
            <hr>
        </li>
        <li>
            <h4>Write a JavaScript function to find longest substring in a given a string without repeating characters.</h4>
            <input type="text" id="longstr">
            <button onclick="findLongSubstr()">Go</button> &#8594; Output:
            <span id="longsubstr">_______</span>
            <hr>
        </li>
    </ol>


    <script>
        var keep_looping = setInterval(function () {
            var whatisnow = new Date();
            var get_hour = whatisnow.getHours();
            var ampm = get_hour < 12 ? 'AM' : 'PM';
            var hour_12hrformat = get_hour <= 12 ? get_hour : get_hour - 12;
            var day_of_week = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday']
            var date = `Today is: ${day_of_week[whatisnow.getDay()]}`;
            var time = `Current time is: ${get_hour} ${ampm} : ${whatisnow.getMinutes()}: ${whatisnow.getSeconds()}`;

            document.getElementById('today_date').innerText = date;
            document.getElementById('current_time').innerText = time;
            document.getElementById('date1').innerText = `${("0" + (whatisnow.getMonth() + 1)).slice(-2)}-${("0" + whatisnow.getDate()).slice(-2)}-${whatisnow.getFullYear()}`;
            document.getElementById('date2').innerText = `${("0" + (whatisnow.getMonth() + 1)).slice(-2)}/${("0" + whatisnow.getDate()).slice(-2)}/${whatisnow.getFullYear()}`;
            document.getElementById('date3').innerText = `${("0" + whatisnow.getDate()).slice(-2)}-${("0" + (whatisnow.getMonth() + 1)).slice(-2)}-${whatisnow.getFullYear()}`;
            document.getElementById('date4').innerText = `${("0" + whatisnow.getDate()).slice(-2)}/${("0" + (whatisnow.getMonth() + 1)).slice(-2)}/${whatisnow.getFullYear()}`;
        }, 1000);

        function printTheWindow() {
            window.print();
        }

        function guessNow() {
            var my_guess = +prompt("Guess any number from 1 to 10");
            while (isNaN(my_guess) || my_guess < 1 || my_guess > 10) {
                my_guess = prompt("Please, Guess any number from 1 to 10");
            }
            var comp_guess = (Math.floor(Math.random() * 100)) % 10 + 1;
            document.getElementById('guess_result').innerText = (my_guess === comp_guess) ? "Good Work" : "Not matched";
        }

        function multiply() {
            var a = +document.getElementById('firstno').value;
            var b = +document.getElementById('secondno').value;
            document.getElementById('mul_div_result').innerText = a * b;
        }

        function divide() {
            var a = +document.getElementById('firstno').value;
            var b = +document.getElementById('secondno').value;
            document.getElementById('mul_div_result').innerText = a / b;
        }

        console.log("Current website's URL: " + window.location.href);

        function capsFirst(caps_first) {
            if (caps_first.trim()) {
                var arr_words = caps_first.split(' ');
                var firstcaps_sent = '';
                arr_words.forEach(word => {
                    if (word.trim())
                        firstcaps_sent += word[0].toUpperCase() + word.slice(1).toLowerCase() + " ";
                });
                document.getElementById('output_capsfirst').innerText = firstcaps_sent.trim();
            } else {
                document.getElementById('output_capsfirst').innerText = '____________';
            }
        }

        function ippassu(word) {
            word = word.replace(' ', '');
            if (word) {
                var p = 0;
                var s = 0;
                for (var i = 0; i < word.length; i++) {
                    if (word[i] == 'p') p++;
                    if (word[i] == 's') s++;
                }
                document.getElementById('pass_or_fail').innerText = (p == s);
            } else {
                document.getElementById('pass_or_fail').innerText = '_______';
            }
        }

        function copylast3(word) {
            if (word.trim().length > 2) {
                var last3 = word.slice(word.length - 3);
                document.getElementById('last3copies').innerText = last3 + last3 + last3 + last3;
            } else {
                document.getElementById('last3copies').innerText = false;
            }
        }

        var exArray = [];

        function printexArray() {
            document.getElementById('exchangearr').innerText = `Array : ` + JSON.stringify(exArray);
        }

        function addExArray() {
            var t = document.getElementById('number_collector').value;
            exArray.push(+t);
            printexArray();
            document.getElementById('number_collector').value = '';
        }

        function clearExArray() {
            exArray = [];
            printexArray();
        }

        function exchangeFlarr() {
            var temp;
            var n = exArray.length;
            if (n > 1) {
                temp = exArray[0];
                exArray[0] = exArray[n - 1];
                exArray[n - 1] = temp;
            }
            printexArray();
        }

        function reverseNo(no) {
            if (!isNaN(no))
                document.getElementById('revnumber').innerText = no.split('').reverse().join('');
            else
                document.getElementById('revnumber').innerText = no;
            if (!no.length) document.getElementById('revnumber').innerText = '_______';
        }

        function arrangeAlpha(word) {
            if (word) {
                var arr = word.split('');
                arr.sort();
                document.getElementById('alphaorder').innerText = arr.join('');
            } else {
                document.getElementById('alphaorder').innerText = '_______';
            }
        }

        function findLongestString(sentence) {
            var arr = sentence.split(' ');
            arr.sort((a, b) => { return b.length - a.length; });
            document.getElementById('longeststring').innerText = arr[0];
        }

        function extractUniqueString(sentence) {
            var sset = new Set();
            var uniq = '';
            for (var i = 0; i < sentence.length; i++) {
                if (!sset.has(sentence[i])) {
                    //add to set and append
                    sset.add(sentence[i]);
                    uniq += sentence[i];
                }
            }
            document.getElementById('uniquestring').innerText = uniq;
        }

        function getOccurenceString(sentence) {
            sentence = sentence.replace(/\s/g, '');
            var arr = sentence.split('');
            var dict = {};
            arr.forEach(ele => {
                if (ele in dict) {
                    dict[ele] += 1;
                } else {
                    dict[ele] = 1;
                }
            });
            document.getElementById('occurences').innerHTML = JSON.stringify(dict);
        }

        var stringID = '';
        var stringID_length = 1;
        function getStringForId(word) {
            stringID = word;
            generateID();
        }

        function updateIdLength(n) {
            stringID_length = n;
            generateID();
        }

        function generateID() {
            if (stringID.trim()) {
                var tmp = stringID.length * 7;
                var uid;
                uniqID = '';
                for (var i = 0; i < stringID_length; i++) {
                    uid = Math.floor(Math.random() * tmp);
                    uid = uid % stringID.length;
                    uniqID += stringID[uid];
                }
                document.getElementById('randomId').innerText = uniqID;
            } else {
                document.getElementById('randomId').innerText = '_______';
            }
        }

        function findLongSubstr() {
            var str = document.getElementById('longstr').value;
            if (str) {
                var len = str.length;
                var s = '';
                var k;
                var t = '';
                var longest_substr = str[0];
                var longest_substr_length = 1;
                for (var i = 0; i < len - 1; i++) {
                    s = str.substring(i, i + 1);
                    for (var j = i + 1; j < len; j++) {
                        s = s + str[j];
                        if (j - i + 1 != 2) {
                            k = s.split('').sort();
                            t = k.join('');
                        } else {
                            t = s;
                        }
                        if (!(/(.)\1{1,}/gi).test(t)) {
                            if (longest_substr_length < (j - i + 1)) {
                                longest_substr = s;
                                longest_substr_length = j - i + 1;
                            }
                        }
                    }
                }
                document.getElementById('longsubstr').innerText = longest_substr;
            } else {
                document.getElementById('longsubstr').innerText = '_______';
            }
        }
    </script>
</body>

</html>